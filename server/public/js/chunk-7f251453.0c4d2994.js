(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f251453"],{"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3530:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"admin"}},[n("div",{staticClass:"button-container"},[n("button",{on:{click:e.viewTree}},[e._v("View tree")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.getTreeUrl,expression:"getTreeUrl"}],attrs:{type:"text",id:"treeUrl",readonly:""},domProps:{value:e.getTreeUrl},on:{input:function(t){t.target.composing||(e.getTreeUrl=t.target.value)}}}),n("button",{on:{click:e.copyTreeUrl}},[e._v(" Copy tree link ")])]),n("NewTree")],1)},o=[],i=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree"},[n("form",{staticClass:"tree-form",on:{submit:function(t){return t.preventDefault(),e.updateTree(t)}}},[e._l(e.tree.links,(function(t,r){return n("div",{key:r,staticClass:"link"},[n("div",{staticClass:"input-container"},[n("div",{staticClass:"input"},[n("label",[e._v(" Title: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"item.title"}],attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}})]),n("div",{staticClass:"input"},[n("label",[e._v(" Link: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"item.link"}],attrs:{type:"url",placeholder:"Url",required:""},domProps:{value:t.link},on:{input:function(n){n.target.composing||e.$set(t,"link",n.target.value)}}})])]),n("button",{staticClass:"removeLinkButton",attrs:{type:"button"},on:{click:function(t){return e.removeItem(r)}}},[e._v(" X ")])])})),n("button",{staticClass:"button cta-secondary",attrs:{type:"button"},on:{click:e.addItem}},[e._v("Add new link")]),n("button",{staticClass:"button cta-primary",attrs:{id:"saveButton",type:"submit"}},[e._v("Save")])],2)])}),a=[],c=n("1da1"),s=(n("a434"),n("96cf"),n("808b")),u={name:"EditTree",data:function(){return{tree:{treeTitle:"",links:[{title:"",link:"",description:""}]}}},computed:{getUserId:function(){return this.$store.getters.getUserId}},beforeMount:function(){this.getUserTree()},methods:{getUserTree:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].getTreeList(e.getUserId);case 2:n=t.sent,console.log(n),null!=n._id&&void 0!=n._id&&(e.tree=n);case 5:case"end":return t.stop()}}),t)})))()},updateTree:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("updateTree"),!e.tree._id){t.next=7;break}return t.next=4,s["a"].updateTree(e.tree._id,e.tree.links);case 4:n=t.sent,t.next=11;break;case 7:return t.next=9,s["a"].newTree(e.getUserId,e.tree.links);case 9:n=t.sent,e.tree._id=n.t._id;case 11:r=e.$el.querySelector("#saveButton"),r.innerHTML="Updated",setTimeout((function(){r.innerHTML="Save"}),1200),console.log(r.innerHTML),console.log(n);case 16:case"end":return t.stop()}}),t)})))()},addItem:function(){console.log("addItem"),this.tree.links.push({title:"",link:"",description:""})},removeItem:function(e){this.tree.links.splice(e,1)}}},l=u,d=(n("b593"),n("2877")),f=Object(d["a"])(l,i,a,!1,null,"9c2876fa",null),p=f.exports,v={name:"Admin",metaInfo:{title:"Admin",htmlAttrs:{lang:"en"}},components:{NewTree:p},computed:{getUsername:function(){return this.$store.getters.getUsername},getTreeUrl:function(){var e=window.location.origin;return"".concat(e,"/t/").concat(this.getUsername)}},methods:{viewTree:function(){window.open(this.getTreeUrl,"_blank")},copyTreeUrl:function(){var e=this.$el.querySelector("#treeUrl");e.setAttribute("type","text"),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}}},m=v,g=(n("6557"),Object(d["a"])(m,r,o,!1,null,"0ba61d5e",null));t["default"]=g.exports},6557:function(e,t,n){"use strict";n("a6bd")},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"808b":function(e,t,n){"use strict";var r=n("d4ec"),o=n("bee2"),i=n("bc3a"),a=n.n(i),c=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getTree",value:function(e){var t="/api/tree/".concat(e);return console.log(t),a.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e.response.data),e.response.data}))}},{key:"getTreeList",value:function(e){var t="api/tree/userTree/".concat(e);return a.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e.response.data),e.response.data}))}},{key:"newTree",value:function(e,t){var n="api/tree/newTree";return a.a.post(n,{userId:e,links:t}).then((function(e){return e.data})).catch((function(e){return console.log(e.response.data),e.response.data}))}},{key:"updateTree",value:function(e,t){var n="api/tree/updateTree";return a.a.put(n,{treeId:e,links:t}).then((function(e){return e.data})).catch((function(e){return console.log(e.response.data),e.response.data}))}}]),e}();t["a"]=c},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"85f4":function(e,t,n){},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",b=p>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),h=d("concat"),T=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},k=!b||!h;r({target:"Array",proto:!0,forced:k},{concat:function(e){var t,n,r,o,i,a=c(this),d=l(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],T(i)){if(o=s(i.length),f+o>m)throw TypeError(g);for(n=0;n<o;n++,f++)n in i&&u(d,f,i[n])}else{if(f>=m)throw TypeError(g);u(d,f++,i)}return d.length=f,d}})},a434:function(e,t,n){"use strict";var r=n("23e7"),o=n("23cb"),i=n("a691"),a=n("50c4"),c=n("7b0b"),s=n("65f0"),u=n("8418"),l=n("1dde"),d=l("splice"),f=Math.max,p=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,l,d,g,b,h=c(this),T=a(h.length),k=o(e,T),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=T-k):(n=w-2,r=p(f(i(t),0),T-k)),T+n-r>v)throw TypeError(m);for(l=s(h,r),d=0;d<r;d++)g=k+d,g in h&&u(l,d,h[g]);if(l.length=r,n<r){for(d=k;d<T-r;d++)g=d+r,b=d+n,g in h?h[b]=h[g]:delete h[b];for(d=T;d>T-r+n;d--)delete h[d-1]}else if(n>r)for(d=T-r;d>k;d--)g=d+r-1,b=d+n-1,g in h?h[b]=h[g]:delete h[b];for(d=0;d<n;d++)h[d+k]=arguments[d+2];return h.length=T-r+n,l}})},a6bd:function(e,t,n){},b593:function(e,t,n){"use strict";n("85f4")},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-7f251453.0c4d2994.js.map